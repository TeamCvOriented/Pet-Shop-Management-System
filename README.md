
# 宠物店管理系统

这是一个基于 JavaWeb (Servlet + JSP) 和 MyBatis 框架构建的综合性宠物店管理系统。项目旨在为宠物店提供一个高效、便捷的在线管理平台，完整地模拟了从用户浏览、购买到管理员后台维护的全套业务流程。系统分为客户端和管理端，满足了普通用户和管理员的不同角色需求。

## 项目简介

该系统实现了一个功能完善的电子商务平台，专注于宠物、宠物用品销售及相关服务的在线预约。用户可以方便地在线浏览和购买心仪的宠物及各类商品，并预约美容、寄养等专业服务。管理员则能通过一个独立的后台系统，对全站的宠物、商品、服务、订单、用户以及科普指南内容进行集中、高效的管理。

## 主要功能

### 客户端 (用户视角)

- **用户认证**: 提供安全的用户注册与登录功能。
- **个人中心**:
    - **信息管理**: 查看和修改个人资料（如联系方式、密码）。
    - **我的宠物**: 管理已购买的宠物信息。
    - **我的订单**: 查看商品和宠物的历史订单，并可对已完成的订单进行评价。
    - **我的服务**: 查看已预约服务的状态和详情。
- **在线商城**:
    - **宠物商城**: 浏览、搜索和购买待售的各类宠物。
    - **商品商城**: 浏览、搜索和购买宠物食品、玩具、洗护用品等。
- **服务中心**: 在线浏览、选择并预约各项宠物服务（如美容、寄养、医疗咨询等）。
- **科普指南**: 阅读由管理员发布的宠物饲养知识、健康护理技巧和行业资讯。

### 管理端 (管理员视角)

- **安全登录**: 提供独立的管理员登录入口。
- **仪表盘**: 后台主页提供关键业务数据（如订单数、用户数）的统计和快速概览。
- **内容管理**:
    - **指南管理**: 集中发布、编辑和删除面向用户的科普指南文章。
- **库存与商品管理**:
    - **宠物管理**: 添加新宠物，管理宠物信息（如价格、年龄、介绍），并控制其上架/下架状态。
    - **商品管理**: 添加新商品，管理商品详情（如价格、库存），并控制其上架/下架状态。
- **订单与预约管理**:
    - **订单管理**: 统一查看和管理所有用户的商品及宠物购买订单。
    - **服务管理**: 集中查看和处理所有用户的服务预约请求。
- **用户管理**: 查看所有注册用户的列表和基本信息。

## 技术栈

- **后端**:
    - **语言**: Java (JDK 1.8+)
    - **Web 核心**: Servlet API 3.0
    - **ORM 框架**: MyBatis
    - **数据库连接池**: C3P0 (可能包含在 MyBatis 配置中)
- **前端**:
    - **视图技术**: JSP (JavaServer Pages)
    - **核心技术**: HTML, CSS, JavaScript
    - **UI 框架**: Bootstrap (用于快速构建响应式布局)
    - **客户端脚本库**: jQuery
- **数据库**:
    - **关系型数据库**: MySQL 5.x
- **Web/应用服务器**:
    - **服务器**: Apache Tomcat 8.0+

## 应用架构

本项目采用经典的三层架构模型（Presentation-Service-DAO），实现了业务逻辑与数据访问的清晰分离。

- **表现层 (Presentation Layer)**:
    - 由 **Servlets** (`com.controller` 包) 和 **JSP** (`WebRoot` 目录) 构成。
    - **Servlets** 作为控制器，负责接收来自客户端的 HTTP 请求，解析请求参数，调用相应的服务层方法处理业务逻辑，最后将处理结果（数据模型）分发到合适的 JSP 页面进行渲染。
    - **JSP** 作为视图，负责动态生成 HTML 页面，将数据显示给用户。

- **业务逻辑层 (Service Layer)**:
    - 位于 `com.service` 包中。
    - 封装了系统的核心业务规则。它作为表现层和数据访问层之间的桥梁，组合调用 DAO 层的方法来完成一个完整的业务操作（例如，一个“用户下单”的服务可能会同时操作订单表和商品库存表）。

- **数据访问层 (Data Access Layer - DAO)**:
    - 由 `com.dao` 包中的 **DAO 接口** 和 `*Mapper.xml` **映射文件** 组成。
    - 基于 MyBatis 框架实现，负责与数据库进行交互。
    - DAO 接口定义了对数据库的原子操作（增、删、改、查），而 XML 文件则包含了具体的 SQL 语句和结果集映射规则。

- **实体层 (Entity/Domain Layer)**:
    - 位于 `com.entity` 包中。
    - 包含了多个 POJO (Plain Old Java Object)，如 `User`, `Pet`, `Item` 等。这些类精确地映射了数据库中的表结构，作为数据在各层之间传递的载体。

## 数据库设计

项目包含以下核心数据表，共同支撑整个系统的业务运作：

- `user`: 存储用户信息，通过 `isManager` 字段区分普通用户和管理员。
- `pet`: 存储待售宠物的详细信息，如品种、年龄、价格、介绍、状态（待售/已售）等。
- `item`: 存储宠物用品信息，包括名称、价格、库存、介绍等。
- `service`: 定义了可供预约的宠物服务及其价格和介绍。
- `order`: 记录用户购买商品或宠物的订单信息，包括订单状态和评价。
- `guide`: 存储管理员发布的科普文章，包括标题、内容和图片。

详细的表结构定义和初始化数据请参见项目根目录下的 `team_jdbc.sql` 文件。

## 如何运行

1.  **环境准备**:
    - **JDK**: 1.8 或更高版本
    - **Web 服务器**: Apache Tomcat 8.0 或更高版本
    - **数据库**: MySQL 5.x
    - **IDE**: Eclipse for Java EE 或 IntelliJ IDEA Ultimate

2.  **数据库设置**:
    - 启动 MySQL 服务。
    - 创建一个名为 `team_jdbc` 的数据库 (`CREATE DATABASE team_jdbc;`)。
    - 切换到该数据库 (`USE team_jdbc;`)。
    - 将项目根目录下的 `team_jdbc.sql` 文件内容导入到该数据库中，以完成表结构的创建和初始数据的填充。

3.  **项目配置**:
    - 在 IDE 中以 Web 项目的形式导入 `TeamWork` 目录。
    - 检查并确认 `src/mybatis-config.xml` 文件中的数据库连接信息（URL, username, password）与您的本地环境一致。
    - 将项目所需的 JAR 包（如 `mysql-connector-java`, `mybatis`, 等）添加到项目的 `WebRoot/WEB-INF/lib` 目录下，并配置到构建路径中。

4.  **部署与启动**:
    - 在 IDE 中配置 Tomcat 服务器。
    - 将该项目部署到配置好的 Tomcat 服务器上。
    - 启动 Tomcat 服务器。

5.  **访问系统**:
    - **统一入口**: 在浏览器中访问 `http://localhost:{端口号}/TeamWork/choice.jsp`，可选择进入客户端或管理端。
    - **客户端首页**: `http://localhost:{端口号}/TeamWork/cLogin.jsp`
    - **管理端首页**: `http://localhost:{端口号}/TeamWork/sLogin.jsp`

    > **默认管理员账号**:
    > - 用户名: `张三`
    > - 密码: `zhangsan001`

## 项目结构详解

```
.
├── team_jdbc.sql         -- 数据库初始化脚本
└── TeamWork
    ├── src
    │   ├── mybatis-config.xml  -- MyBatis 核心配置文件 (数据源, 事务, 映射器)
    │   └── com
    │       ├── controller      -- [控制层] 存放所有 Servlets，处理 HTTP 请求
    │       ├── dao             -- [数据访问层] 存放 DAO 接口和 MyBatis XML 映射文件
    │       ├── entity          -- [实体层] 存放与数据库表对应的 Java-Bean
    │       └── service         -- [业务逻辑层] 封装核心业务逻辑
    └── WebRoot
        ├── *.jsp             -- [视图层] 所有前端动态页面
        ├── css               -- 全局和页面专属的 CSS 样式文件
        ├── js                -- 全局和页面专属的 JavaScript 脚本
        ├── img               -- 网站所需的图片资源
        └── WEB-INF
            ├── web.xml         -- Web 应用部署描述文件 (Servlet 注册与 URL 映射)
            ├── classes         -- 编译后的 .class 文件存放目录 (由 IDE 管理)
            └── lib             -- 项目依赖的第三方 JAR 包
```


